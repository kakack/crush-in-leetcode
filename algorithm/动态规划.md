# 概述

动态规划是一种算法思想：若要解一个给定问题，我们需要解其不同部分（即子问题），再根据子问题的解以得出原问题的解。

要求：最优子结构和重复子问题

## 最优子结构

一个问题的最优解是由它的各个子问题的最优解决定的。将子问题的解进行组合可以得到原问题的解是动态规划可行性的关键。

常用状态转移方程代表子问题和最终问题之间的关系。

## 重复子问题

描述的是子问题之间的关系。动态规划可以保证每个重叠的子问题只会被求解一次。

解决动态规划问题的核心：找出子问题及其子问题与原问题的关系

动态规划算法中关于最优子结构和重复子问题的理解的关键点：

1. 证明问题的方案中包含一种选择，选择之后留下一个或多个子问题
2. 设计子问题的递归描述方式
3. 证明对原问题的最优解包括了对所有子问题的最优解
4. 证明子问题是重叠的（这一步不是动态规划正确性必需的，但是如果子问题无重叠，则效率与一般递归是相同的）

## 与其他算法关系

- 分治：逐步把问题范围缩小，最后将每个小问题的解以及当前情况合并。存在最优的子结构，但不存在重复子问题。

- 贪心：
    - 关于最优子结构：每一步最优解一定包含上一步最优解，无需记录上一步之前的最优解。但是动态规划全局最优解中一定包含某个局部最优解，但不一定包含上一步最优解，需要全程记录所有局部最优解。
    - 关于子问题最优解组合成原问题最优解的组合方式：如果把所有的子问题看成一棵树的话，贪心从根出发，每次向下遍历最优子树即可，这里的最优是贪心意义上的最优。此时不需要知道一个节点的所有子树情况，于是构不成一棵完整的树。动态规划需要对每一个子树求最优解，直至下面的每一个叶子的值，最后得到一棵完整的树，在所有子树都得到最优解后，将他们组合成答案。
    - 结果正确性：贪心不能保证求得的最后解是最佳的，复杂度低。动态规划本质是穷举法，可以保证结果是最佳的，复杂度高

| |分治|动态规划|贪心|
|-|-|-|-|
适用类型|通用|优化|优化
子问题|每个都不同|有很多重复|只有一个
最优子结构|没有要求|必须满足|必须满足
子问题数|全部都要解|全部都要解|只解一个

# 常见题型

- 状态定义：定义子问题，常用dp[n]数组的形式表示，dp[i]就是表示规模为i的问题的解；
- 状态转移：子问题之间的关系，常写作dp[n]=f(dp[i])， 其中i<n。

## 1. 线性动态规划

线性动态规划的主要特点是状态的推导是按照问题规模 i 从小到大依次推过去的，较大规模的问题的解依赖较小规模的问题的解。

- 状态定义：dp[n] := [0..n] 上问题的解
- 状态转移：dp[n] = f(dp[n-1], ..., dp[0])

### 1.1 单串

### 1.2 双串

### 1.3 矩阵

## 2. 前缀和

### 2.1 数据结构维护前缀和

### 2.2 运算推广

### 2.3 差分

## 3. 区间

## 4. 背包

## 5. 状态压缩

## 6. 计数

## 7. 矩阵快速幂

## 8. 数位

